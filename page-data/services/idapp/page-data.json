{
    "componentChunkName": "component---node-modules-confluenza-gatsby-theme-confluenza-src-templates-markdown-template-js",
    "path": "/services/idapp",
    "result": {"data":{"site":{"siteMetadata":{"title":"Identity Box","editBaseUrl":"https://github.com/identity-box/identity-box/blob/master"}},"config":{"nodes":[{"tag":"user","title":"Identity Box"},{"tag":"developer","title":"Developers"},{"tag":"beta","title":"Early Adopters"},{"tag":"component","title":"Components"},{"tag":"service","title":"Services"},{"tag":"utils","title":"Utils"}]},"doc":{"html":"","fileAbsolutePath":"/home/runner/work/identity-box/identity-box/workspaces/idapp/CONFLUENZA.md","frontmatter":{"title":"Identity App","content":{"childMarkdownRemark":{"html":"<h1 id=\"identity-app\" style=\"position:relative;\"><a href=\"#identity-app\" aria-label=\"identity app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Identity App</h1>\n<p>Identity App to work with IdentityBox.</p>\n<h2 id=\"app-configuration\" style=\"position:relative;\"><a href=\"#app-configuration\" aria-label=\"app configuration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>App configuration</h2>\n<p>The app does not currently require any configuration.</p>\n<blockquote>\n<p>In case one is needed in the future, it can be provided in one of the configuration files (<code class=\"language-text\">*.config.js</code>).</p>\n</blockquote>\n<p>All the constants from the config file will be added to <code class=\"language-text\">app.json</code>\nunder the <code class=\"language-text\">extra</code> key. The <code class=\"language-text\">app.json</code> is created by adding this\n<code class=\"language-text\">extra</code> key to the contents of the <code class=\"language-text\">config.json</code>.\nTherefore before running <code class=\"language-text\">yarn expo start</code> or any other expo command,\nplease make sure you select the correct configuration by\nrunning <code class=\"language-text\">expo-env --env=&lt;your-configuration></code>. This will properly\npopulate the <code class=\"language-text\">extra</code> entry of the <code class=\"language-text\">app.json</code> making it visible\nto the app via <code class=\"language-text\">Constants.manifest.extra</code>.\nFor more information check <a href=\"https://www.npmjs.com/package/expo-env\">expo-env</a>.</p>\n<h2 id=\"usage\" style=\"position:relative;\"><a href=\"#usage\" aria-label=\"usage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> start <span class=\"token punctuation\">[</span>--clear<span class=\"token punctuation\">]</span></code></pre></div>\n<blockquote>\n<p>If you used the app before, and now your rendezvous server is available on a different url, make sure that you re-scan the QR-code published by the rendezvous server. This is especially important to do <strong>before</strong> you do a <em>factory reset</em> in the Identity App.</p>\n</blockquote>\n<h2 id=\"publishing-to-testflight\" style=\"position:relative;\"><a href=\"#publishing-to-testflight\" aria-label=\"publishing to testflight permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Publishing to TestFlight</h2>\n<blockquote>\n<p>This documentation applies to Xcode v11.</p>\n</blockquote>\n<h3 id=\"update-buildversion-number-for-the-app\" style=\"position:relative;\"><a href=\"#update-buildversion-number-for-the-app\" aria-label=\"update buildversion number for the app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Update build/version number for the app</h3>\n<p>In <code class=\"language-text\">config.json</code> we have two attributes related to versioning of the app: <code class=\"language-text\">version</code> and <code class=\"language-text\">ios.buildNumber</code>. Before publishing the app to TestFlight one of the two needs to be updated. Currently we keep <code class=\"language-text\">version</code> fixed to <code class=\"language-text\">1.0.0</code>, and for each new build we just increase the build number.</p>\n<blockquote>\n<p>Here we are concerned with the iOS build, but notice that there is also attribute <code class=\"language-text\">android.versionCode</code> which plays the same role as <code class=\"language-text\">ios.buildNumber</code>. When increasing <code class=\"language-text\">ios.buildNumber</code> we also increase <code class=\"language-text\">android.versionCode</code>.</p>\n</blockquote>\n<h3 id=\"apply-the-build-configuration\" style=\"position:relative;\"><a href=\"#apply-the-build-configuration\" aria-label=\"apply the build configuration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Apply the build configuration</h3>\n<p>Run <code class=\"language-text\">yarn env:prod</code> from the terminal.</p>\n<blockquote>\n<p>All commands need to be run from the <code class=\"language-text\">workspaces/idapp</code> folder.</p>\n</blockquote>\n<h3 id=\"create-ios-build\" style=\"position:relative;\"><a href=\"#create-ios-build\" aria-label=\"create ios build permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create iOS build</h3>\n<p>Run <code class=\"language-text\">expo build:ios</code> from the terminal. Once the build is finished download the corresponding <code class=\"language-text\">.ipa</code> file.</p>\n<h3 id=\"upload-the-build-to-apple-connect\" style=\"position:relative;\"><a href=\"#upload-the-build-to-apple-connect\" aria-label=\"upload the build to apple connect permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Upload the build to Apple Connect</h3>\n<p>Once the app is built, download the <code class=\"language-text\">ipa</code> file and use <a href=\"https://apps.apple.com/us/app/transporter/id1450874784?mt=12\">Apple Transporter</a> to upload the file to the Apple Connect account.</p>\n<h3 id=\"previous-not-recommended-method\" style=\"position:relative;\"><a href=\"#previous-not-recommended-method\" aria-label=\"previous not recommended method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Previous (not recommended) method</h3>\n<p>In the past we had to use <code class=\"language-text\">xcrun</code> tool to upload the app to Apple Connect:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">xcrun altool --upload-app -f <span class=\"token operator\">&lt;</span><span class=\"token environment constant\">PATH</span>-TO-IPA-FILE<span class=\"token operator\">></span> -u <span class=\"token operator\">&lt;</span>YOUR APPLE-ID<span class=\"token operator\">></span></code></pre></div>\n<p>You will be asked for the password.</p>\n<blockquote>\n<p>Here I assume you have your Apple Connect configured. In particular you might have to generate an App Specific password for your account. If you need some guidance on the whole process you may like to consult <a href=\"https://levelup.gitconnected.com/react-native-how-to-publish-an-expo-app-to-testflight-debug-common-errors-90e427b4b5ea\">React Native: How To Publish An Expo App To TestFlight + Debug Common Errors</a> and the official Expo documentation <a href=\"https://docs.expo.io/versions/v35.0.0/distribution/uploading-apps/\">Uploading Apps to the Apple App Store and Google Play</a>.</p>\n</blockquote>\n<blockquote>\n<p>If you have 2FA enabled for your AppleId, you will need to create an App-specific password and provide it here.</p>\n</blockquote>\n<p>It may take some time before the uploading of the app finishes. There will be no feedback or progress indication in the meantime. If everything worked out, you will just see <code class=\"language-text\">No errors uploading 'YOUR IPA FILE NAME'</code>. In case it did not work, you will get some information about the error, in which case <a href=\"https://github.com/expo/expo-cli/issues/927\">this thread</a> may help.</p>\n<h3 id=\"make-your-build-ready-on-the-apple-connect-portal\" style=\"position:relative;\"><a href=\"#make-your-build-ready-on-the-apple-connect-portal\" aria-label=\"make your build ready on the apple connect portal permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Make your build ready on the Apple Connect portal</h3>\n<p>You may need to wait a bit before the processing of your build finishes on iTunes. You will get an email from iTunes Store saying that your new build has completed processing (and you will most probably ignore an email about ITMS-90809: Deprecated API Usage for UIWebView - we hope this will be fixed by Expo team soon).</p>\n<p>You will also like to include additional information about your build so that your testers know what's new in this build that needs to be tested.</p>\n<blockquote>\n<p>We noticed that entering this description on Safari makes the portal unresponsive - Google Chrome worked just fine...</p>\n</blockquote>","fileAbsolutePath":"/home/runner/work/identity-box/identity-box/workspaces/idapp/README.md"}}}},"mdx":null},"pageContext":{}},
    "staticQueryHashes": ["1136224994"]}